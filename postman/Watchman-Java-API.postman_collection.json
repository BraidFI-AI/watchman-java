{
  "info": {
    "_postman_id": "watchman-java-api-collection",
    "name": "Watchman Java API",
    "description": "# Watchman Java API\n\n**Sanctions Screening Service** - Screen individuals and businesses against global sanctions lists (OFAC, EU, UK, UN).\n\n## üöÄ Quick Start\n\n1. Set `baseUrl` variable to your environment\n2. Use `/v2/search` for single entity screening\n3. Use `/v2/search/batch` for bulk screening (up to 1000 items)\n\n## üìö Key Features\n\n- **Single Entity Search**: Real-time screening with fuzzy matching\n- **Batch Screening**: Process up to 1000 entities in one request\n- **Score Tracing**: Debug scoring with `trace=true` for detailed breakdowns\n- **Flexible Filtering**: Filter by source list, entity type, or custom thresholds\n- **High Performance**: Parallel processing with sub-second response times\n\n## üéØ Common Use Cases\n\n**KYC Onboarding**: Screen new customers during registration\n```\nGET /v2/search?name=John%20Doe&minMatch=0.85\n```\n\n**Transaction Monitoring**: Batch screen payment recipients\n```\nPOST /v2/search/batch\n{ \"items\": [{\"id\": \"txn-1\", \"name\": \"Recipient Name\"}], \"minMatch\": 0.9 }\n```\n\n**Score Tuning**: Use trace mode to optimize thresholds\n```\nGET /v2/search?name=Test&trace=true\n```\n\n## üåç Data Sources\n\n- **OFAC SDN**: US Treasury sanctions list (~12,500 entities)\n- **US CSL**: Consolidated Screening List (~8,000 entities)\n- **EU CSL**: European Union sanctions (~5,000 entities)\n- **UK CSL**: UK sanctions list (~3,000 entities)\n\n## ‚öôÔ∏è Configuration\n\n**Base URLs**:\n- Local Development: `http://localhost:8084`\n- Production (Fly.io): `http://54.209.239.50:8080`\n\n**Default Parameters**:\n- `minMatch`: 0.85 (85% similarity threshold)\n- `limit`: 10 results per query\n\n## üìñ Documentation\n\nEach folder contains detailed endpoint documentation with:\n- Parameter descriptions and examples\n- Response schemas with sample data\n- Best practices and performance tips\n- Common error scenarios\n\n## üîç Score Tracing\n\nEnable detailed scoring breakdowns for debugging:\n- **Single Search**: Add `?trace=true` query parameter\n- **Batch Search**: Add `\"trace\": true` to request body\n\nTrace output includes:\n- Component scores (name, address, DOB, ID)\n- Normalization steps\n- Candidate selection process\n- Final score calculation",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8084",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health & Info",
      "description": "## Health & System Information\n\nMonitor service health and get information about loaded sanctions data.\n\n### Endpoints\n\n- **GET /health** - Service health check\n- **GET /v2/listinfo** - Available sanctions lists and counts\n\n### Use Cases\n\n‚úÖ **Readiness Checks**: Verify service is ready before screening\n‚úÖ **Monitoring**: Set up health check alerts\n‚úÖ **Data Validation**: Confirm expected entity counts are loaded\n‚úÖ **Debugging**: Check which lists are available for filtering\n\n### Best Practices\n\n- Poll `/health` endpoint for uptime monitoring\n- Check `/listinfo` after data refresh to verify counts\n- Use list names from `/listinfo` for source filtering in searches",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health"
              ]
            },
            "description": "Check if the service is healthy and running"
          },
          "response": [
            {
              "name": "Healthy Response",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"status\": \"UP\",\n  \"timestamp\": \"2026-01-03T00:00:00Z\"\n}"
            }
          ]
        },
        {
          "name": "Get Available Lists",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/listinfo",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "listinfo"
              ]
            },
            "description": "Get information about available sanctions lists"
          },
          "response": [
            {
              "name": "Lists Response",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"lists\": [\n    {\"name\": \"OFAC SDN\", \"count\": 12500},\n    {\"name\": \"US CSL\", \"count\": 8000},\n    {\"name\": \"EU CSL\", \"count\": 5000},\n    {\"name\": \"UK CSL\", \"count\": 3000}\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Search",
      "description": "## Single Entity Search\n\nScreen individual names against global sanctions lists with real-time fuzzy matching.\n\n### Endpoint\n\n```\nGET /v2/search?name={query}&minMatch={threshold}&limit={max_results}\n```\n\n### Key Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `name` | string | required | Name to screen (person or business) |\n| `minMatch` | float | 0.85 | Score threshold (0.0-1.0) |\n| `limit` | int | 10 | Maximum results to return |\n| `source` | string | all | Filter by list (OFAC_SDN, US_CSL, EU_CSL, UK_CSL) |\n| `type` | string | all | Filter by type (PERSON, BUSINESS, VESSEL, AIRCRAFT) |\n| `trace` | boolean | false | Enable detailed score breakdown |\n\n### Response Structure\n\n```json\n{\n  \"entities\": [\n    {\n      \"id\": \"12345\",\n      \"name\": \"JOHN DOE\",\n      \"type\": \"PERSON\",\n      \"source\": \"OFAC_SDN\",\n      \"score\": 0.95,\n      \"altNames\": [...],\n      \"programs\": [\"SDGT\"],\n      \"breakdown\": null  // populated when trace=true\n    }\n  ],\n  \"totalResults\": 1,\n  \"requestID\": \"req-123\",\n  \"debug\": null  // populated when trace=true\n}\n```\n\n### Performance\n\n- **Average Response Time**: < 50ms\n- **P99 Response Time**: < 200ms\n- **Concurrent Requests**: 100+ per second\n\n### Scoring Guidelines\n\n| Threshold | Use Case | False Positive Rate |\n|-----------|----------|-------------------|\n| 0.95+ | High confidence matches only | Very Low |\n| 0.85-0.94 | Standard screening (recommended) | Low |\n| 0.70-0.84 | Fuzzy matching for variants | Medium |\n| < 0.70 | Not recommended | High |\n\n### Best Practices\n\n‚úÖ **Start with 0.85**: Good balance of accuracy and coverage\n‚úÖ **Use trace mode**: Debug unexpected scores or missing matches\n‚úÖ **Filter by source**: Reduce false positives for specific jurisdictions\n‚úÖ **Handle high scores first**: Review 0.95+ matches as highest priority\n‚úÖ **Log request IDs**: Include in audit trails for compliance\n\n### Common Patterns\n\n**1. KYC Screening**\n```\n/v2/search?name=Customer%20Name&minMatch=0.85&limit=5\n```\n\n**2. Vendor Due Diligence**\n```\n/v2/search?name=Vendor%20Corp&type=BUSINESS&minMatch=0.90\n```\n\n**3. OFAC-Only Check**\n```\n/v2/search?name=Test%20Entity&source=OFAC_SDN&minMatch=0.85\n```\n\n**4. Debug Low Scores**\n```\n/v2/search?name=John%20Doe&trace=true&minMatch=0.70\n```",
      "item": [
        {
          "name": "Search by Name",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/search?name=John%20Doe&limit=10&minMatch=0.85",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "John%20Doe",
                  "description": "Name to search for (required)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Maximum number of results (default: 10)"
                },
                {
                  "key": "minMatch",
                  "value": "0.85",
                  "description": "Minimum match score threshold 0.0-1.0 (default: 0.85)"
                }
              ]
            },
            "description": "## Basic Name Search\n\nScreen a name against all sanctions lists using fuzzy matching.\n\n### When to Use\n- ‚úÖ KYC customer onboarding\n- ‚úÖ Payment beneficiary screening  \n- ‚úÖ Vendor due diligence\n- ‚úÖ Employee background checks\n\n### Query Parameters\n\n- **name** (required): Name to screen\n  - Can be person or business name\n  - Case-insensitive\n  - Handles name variations automatically\n\n- **limit** (optional, default: 10): Max results\n  - Range: 1-100\n  - Higher values = more candidates but slower response\n  - Tip: Start with 10, increase if missing matches\n\n- **minMatch** (optional, default: 0.85): Score threshold\n  - Range: 0.0-1.0\n  - 0.85 = 85% similarity\n  - Lower values = more matches but more false positives\n\n### Response\n\n**entities[]**: Array of matches\n- `id`: Unique entity identifier\n- `name`: Official name on sanctions list\n- `score`: Match confidence (0.0-1.0)\n- `type`: PERSON, BUSINESS, VESSEL, or AIRCRAFT\n- `source`: Which list (OFAC_SDN, EU_CSL, etc.)\n- `altNames`: Known aliases and variations\n- `programs`: Sanctions programs (e.g., SDGT, IRAN)\n\n### Examples\n\n**Person**:\n```\n/v2/search?name=John%20Doe&limit=10\n```\n\n**Business**:\n```\n/v2/search?name=Acme%20Corporation&limit=10\n```\n\n**Low confidence check**:\n```\n/v2/search?name=Mohammad&minMatch=0.70&limit=50\n```\n\n### Tips\n\nüí° **Review scores carefully**: 0.95+ are strong matches, 0.85-0.94 need review\nüí° **Check altNames**: Shows why the match was found\nüí° **Log requestID**: Include in compliance audit logs"
          },
          "response": [
            {
              "name": "Search Results",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"entities\": [\n    {\n      \"id\": \"12345\",\n      \"name\": \"JOHN DOE\",\n      \"type\": \"PERSON\",\n      \"source\": \"OFAC_SDN\",\n      \"sourceId\": \"12345\",\n      \"score\": 0.95,\n      \"altNames\": [\n        \"JOHNNY DOE\",\n        \"DOE, JOHN\"\n      ],\n      \"programs\": [\n        \"SDGT\"\n      ],\n      \"breakdown\": null\n    }\n  ],\n  \"totalResults\": 1,\n  \"requestID\": \"req-123\",\n  \"debug\": null\n}"
            }
          ]
        },
        {
          "name": "Search with Source Filter",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/search?name=Acme%20Corp&source=OFAC_SDN&limit=25",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "Acme%20Corp",
                  "description": "Name to search for"
                },
                {
                  "key": "source",
                  "value": "OFAC_SDN",
                  "description": "Filter by source list (OFAC_SDN, US_CSL, EU_CSL, UK_CSL)"
                },
                {
                  "key": "limit",
                  "value": "25",
                  "description": "Maximum number of results"
                }
              ]
            },
            "description": "Search with source list filter"
          },
          "response": [
            {
              "name": "Filtered Search Results",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"entities\": [\n    {\n      \"id\": \"67890\",\n      \"name\": \"ACME CORPORATION\",\n      \"type\": \"BUSINESS\",\n      \"source\": \"OFAC_SDN\",\n      \"sourceId\": \"67890\",\n      \"score\": 0.92,\n      \"altNames\": [\n        \"ACME CORP\",\n        \"ACME CO.\"\n      ],\n      \"programs\": [\n        \"SYRIA\"\n      ],\n      \"breakdown\": null\n    }\n  ],\n  \"totalResults\": 1,\n  \"requestID\": null,\n  \"debug\": null\n}"
            }
          ]
        },
        {
          "name": "Search with Type Filter",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/search?name=Bank&type=BUSINESS&minMatch=0.80",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "Bank",
                  "description": "Name to search for"
                },
                {
                  "key": "type",
                  "value": "BUSINESS",
                  "description": "Filter by entity type (PERSON, BUSINESS, VESSEL, AIRCRAFT, UNKNOWN)"
                },
                {
                  "key": "minMatch",
                  "value": "0.80",
                  "description": "Minimum match score"
                }
              ]
            },
            "description": "Search filtered by entity type"
          },
          "response": [
            {
              "name": "Type Filtered Results",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"entities\": [\n    {\n      \"id\": \"11223\",\n      \"name\": \"BANK OF COMMERCE\",\n      \"type\": \"BUSINESS\",\n      \"source\": \"OFAC_SDN\",\n      \"sourceId\": \"11223\",\n      \"score\": 0.88,\n      \"altNames\": [\n        \"COMMERCE BANK\"\n      ],\n      \"programs\": [\n        \"IRAN\"\n      ],\n      \"breakdown\": null\n    }\n  ],\n  \"totalResults\": 1,\n  \"requestID\": null,\n  \"debug\": null\n}"
            }
          ]
        },
        {
          "name": "Search - Low Threshold",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/search?name=Mohammad&minMatch=0.70&limit=50",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "Mohammad",
                  "description": "Common name with variations"
                },
                {
                  "key": "minMatch",
                  "value": "0.70",
                  "description": "Lower threshold to catch spelling variations"
                },
                {
                  "key": "limit",
                  "value": "50",
                  "description": "Higher limit for fuzzy matches"
                }
              ]
            },
            "description": "Search with lower threshold for fuzzy matching"
          },
          "response": [
            {
              "name": "Fuzzy Match Results",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"entities\": [\n    {\n      \"id\": \"45678\",\n      \"name\": \"MOHAMMAD ALI AHMED\",\n      \"type\": \"PERSON\",\n      \"source\": \"OFAC_SDN\",\n      \"sourceId\": \"45678\",\n      \"score\": 0.78,\n      \"altNames\": [\n        \"MOHAMMED ALI AHMAD\",\n        \"MUHAMMAD A. AHMED\"\n      ],\n      \"programs\": [\n        \"SDGT\"\n      ],\n      \"breakdown\": null\n    },\n    {\n      \"id\": \"45679\",\n      \"name\": \"MOHAMMAD HASSAN\",\n      \"type\": \"PERSON\",\n      \"source\": \"EU_CSL\",\n      \"sourceId\": \"45679\",\n      \"score\": 0.72,\n      \"altNames\": [\n        \"MOHAMMED HASAN\"\n      ],\n      \"programs\": null,\n      \"breakdown\": null\n    }\n  ],\n  \"totalResults\": 2,\n  \"requestID\": null,\n  \"debug\": null\n}"
            }
          ]
        },
        {
          "name": "Search with ScoreTrace",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/search?name=John%20Doe&limit=10&minMatch=0.85&trace=true",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "John%20Doe",
                  "description": "Name to search for"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Maximum number of results"
                },
                {
                  "key": "minMatch",
                  "value": "0.85",
                  "description": "Minimum match score threshold"
                },
                {
                  "key": "trace",
                  "value": "true",
                  "description": "Enable detailed scoring breakdown for debugging (default: false)"
                }
              ]
            },
            "description": "Search with trace enabled to see detailed score breakdown for debugging/tuning"
          },
          "response": [
            {
              "name": "Search Results with Trace",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"entities\": [\n    {\n      \"id\": \"12345\",\n      \"name\": \"JOHN DOE\",\n      \"type\": \"PERSON\",\n      \"source\": \"OFAC_SDN\",\n      \"sourceId\": \"12345\",\n      \"score\": 0.95,\n      \"altNames\": [\n        \"JOHNNY DOE\",\n        \"DOE, JOHN\"\n      ],\n      \"programs\": [\n        \"SDGT\"\n      ],\n      \"breakdown\": {\n        \"primaryNameScore\": 0.95,\n        \"altNameScore\": 0.88,\n        \"addressScore\": 0.0,\n        \"dobScore\": 0.0,\n        \"idScore\": 0.0,\n        \"totalWeightedScore\": 0.95,\n        \"components\": [\n          {\n            \"field\": \"primaryName\",\n            \"queryValue\": \"John Doe\",\n            \"candidateValue\": \"JOHN DOE\",\n            \"rawScore\": 0.95,\n            \"weight\": 1.0,\n            \"weightedScore\": 0.95\n          },\n          {\n            \"field\": \"altName\",\n            \"queryValue\": \"John Doe\",\n            \"candidateValue\": \"JOHNNY DOE\",\n            \"rawScore\": 0.88,\n            \"weight\": 0.9,\n            \"weightedScore\": 0.792\n          }\n        ]\n      }\n    }\n  ],\n  \"totalResults\": 1,\n  \"requestID\": \"req-123\",\n  \"debug\": {\n    \"traceId\": \"trace-abc-123\",\n    \"events\": [\n      {\n        \"timestamp\": \"2026-01-11T00:00:00Z\",\n        \"phase\": \"NORMALIZATION\",\n        \"message\": \"Normalized query name: John Doe -> john doe\"\n      },\n      {\n        \"timestamp\": \"2026-01-11T00:00:01Z\",\n        \"phase\": \"CANDIDATE_SELECTION\",\n        \"message\": \"Found 50 candidates\"\n      },\n      {\n        \"timestamp\": \"2026-01-11T00:00:02Z\",\n        \"phase\": \"SCORING\",\n        \"message\": \"Scored 50 candidates\"\n      }\n    ]\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Batch Screening",
      "description": "## Batch Screening\n\nScreen multiple entities simultaneously with efficient parallel processing.\n\n### Endpoints\n\n- **POST /v2/search/batch** - Synchronous batch screening (up to 1000 items)\n- **POST /v2/search/batch/async** - Asynchronous processing for large batches\n\n### Request Format\n\n```json\n{\n  \"items\": [\n    {\"id\": \"req-1\", \"name\": \"John Smith\"},\n    {\"id\": \"req-2\", \"name\": \"Acme Corp\", \"type\": \"BUSINESS\", \"source\": \"OFAC_SDN\"}\n  ],\n  \"minMatch\": 0.85,\n  \"limit\": 10,\n  \"trace\": false\n}\n```\n\n### Parameters\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `items` | array | ‚úÖ Yes | 1-1000 entities to screen |\n| `items[].id` | string | ‚úÖ Yes | Your unique ID for this entity |\n| `items[].name` | string | ‚úÖ Yes | Entity name to screen |\n| `items[].type` | string | ‚ùå No | Filter: PERSON, BUSINESS, VESSEL, AIRCRAFT |\n| `items[].source` | string | ‚ùå No | Filter: OFAC_SDN, US_CSL, EU_CSL, UK_CSL |\n| `minMatch` | float | ‚ùå No | Score threshold (default: 0.85) |\n| `limit` | int | ‚ùå No | Max results per item (default: 10) |\n| `trace` | boolean | ‚ùå No | Enable detailed breakdowns (default: false) |\n\n### Response Structure\n\n```json\n{\n  \"results\": [\n    {\n      \"itemId\": \"req-1\",\n      \"name\": \"John Smith\",\n      \"matches\": [\n        {\n          \"entityId\": \"12345\",\n          \"name\": \"JOHN SMITH\",\n          \"type\": \"PERSON\",\n          \"source\": \"OFAC_SDN\",\n          \"score\": 0.98,\n          \"breakdown\": null  // present when trace=true\n        }\n      ],\n      \"matchCount\": 1,\n      \"trace\": null  // present when trace=true\n    }\n  ],\n  \"statistics\": {\n    \"totalItems\": 1,\n    \"itemsWithMatches\": 1,\n    \"itemsWithoutMatches\": 0,\n    \"totalMatches\": 1,\n    \"processingTimeMs\": 45\n  }\n}\n```\n\n### Performance\n\n| Batch Size | Avg Response Time | Recommended Use |\n|------------|------------------|----------------|\n| 1-10 items | < 100ms | Real-time checks |\n| 11-100 items | < 500ms | Transaction monitoring |\n| 101-500 items | 1-3s | Periodic screening |\n| 501-1000 items | 3-8s | Batch processing |\n| 1000+ items | Use async | Large bulk imports |\n\n### Best Practices\n\n‚úÖ **Use meaningful IDs**: Include your system IDs for easy correlation\n‚úÖ **Batch related items**: Group by transaction, user session, or business process\n‚úÖ **Handle partial failures**: Check `status` field for each item\n‚úÖ **Enable trace sparingly**: Only for debugging (increases response time)\n‚úÖ **Use async for 1000+ items**: Better for large batches and reduces timeouts\n\n### Common Use Cases\n\n**1. Transaction Batch Screening**\n```json\n{\n  \"items\": [\n    {\"id\": \"txn-001\", \"name\": \"Sender Name\"},\n    {\"id\": \"txn-001-recipient\", \"name\": \"Recipient Name\"}\n  ],\n  \"minMatch\": 0.90\n}\n```\n\n**2. Customer Onboarding Batch**\n```json\n{\n  \"items\": [\n    {\"id\": \"cust-100\", \"name\": \"Primary Account Holder\"},\n    {\"id\": \"cust-100-auth-1\", \"name\": \"Authorized User 1\"},\n    {\"id\": \"cust-100-auth-2\", \"name\": \"Authorized User 2\"}\n  ],\n  \"minMatch\": 0.85\n}\n```\n\n**3. Vendor Screening with Filters**\n```json\n{\n  \"items\": [\n    {\"id\": \"vendor-1\", \"name\": \"Supplier Co\", \"type\": \"BUSINESS\"},\n    {\"id\": \"vendor-2\", \"name\": \"Logistics LLC\", \"type\": \"BUSINESS\"}\n  ],\n  \"minMatch\": 0.85,\n  \"limit\": 5\n}\n```\n\n**4. Debug with Trace**\n```json\n{\n  \"items\": [{\"id\": \"test-1\", \"name\": \"Test Name\"}],\n  \"trace\": true,\n  \"minMatch\": 0.70\n}\n```\n\n### Error Handling\n\n**400 Bad Request**\n- Empty items array\n- More than 1000 items\n- Missing required fields (id, name)\n- Invalid parameter values\n\n**429 Too Many Requests**\n- Rate limit exceeded\n- Solution: Implement exponential backoff\n\n**503 Service Unavailable**\n- Service temporarily down\n- Solution: Retry with delay or use async endpoint\n\n### Sync vs Async\n\n**Use Sync (`/v2/search/batch`)** when:\n- Batch size < 1000 items\n- Need immediate results\n- Real-time transaction processing\n\n**Use Async (`/v2/search/batch/async`)** when:\n- Batch size > 1000 items\n- Can wait for results\n- Background job processing\n- Want to avoid timeouts",
      "item": [
        {
          "name": "Batch Screen - Simple",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\"requestId\": \"1\", \"name\": \"John Smith\"},\n    {\"requestId\": \"2\", \"name\": \"Acme Corporation\"},\n    {\"requestId\": \"3\", \"name\": \"Jane Doe\"}\n  ],\n  \"minMatch\": 0.85,\n  \"limit\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/search/batch",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search",
                "batch"
              ]
            },
            "description": "Screen multiple entities in a single request (max 1000 items)"
          },
          "response": [
            {
              "name": "Batch Response",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"results\": [\n    {\n      \"itemId\": \"1\",\n      \"name\": \"John Smith\",\n      \"matches\": [\n        {\n          \"entityId\": \"12345\",\n          \"name\": \"JOHN SMITH\",\n          \"type\": \"PERSON\",\n          \"source\": \"OFAC_SDN\",\n          \"score\": 0.98\n        }\n      ],\n      \"matchCount\": 1\n    },\n    {\n      \"itemId\": \"2\",\n      \"name\": \"Acme Corporation\",\n      \"matches\": [],\n      \"matchCount\": 0\n    },\n    {\n      \"itemId\": \"3\",\n      \"name\": \"Jane Doe\",\n      \"matches\": [],\n      \"matchCount\": 0\n    }\n  ],\n  \"statistics\": {\n    \"totalItems\": 3,\n    \"itemsWithMatches\": 1,\n    \"itemsWithoutMatches\": 2,\n    \"totalMatches\": 1,\n    \"processingTimeMs\": 45\n  }\n}"
            }
          ]
        },
        {
          "name": "Batch Screen - With Filters",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\"requestId\": \"cust-001\", \"name\": \"Global Trading LLC\", \"entityType\": \"BUSINESS\", \"source\": \"OFAC_SDN\"},\n    {\"requestId\": \"cust-002\", \"name\": \"Mohammad Ali\", \"entityType\": \"PERSON\"},\n    {\"requestId\": \"cust-003\", \"name\": \"Petrochemical Industries\", \"entityType\": \"BUSINESS\"},\n    {\"requestId\": \"cust-004\", \"name\": \"Al-Rashid Enterprises\", \"entityType\": \"BUSINESS\"},\n    {\"requestId\": \"cust-005\", \"name\": \"Northern Bank\", \"entityType\": \"BUSINESS\", \"source\": \"US_CSL\"}\n  ],\n  \"minMatch\": 0.80,\n  \"limit\": 5\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/search/batch",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search",
                "batch"
              ]
            },
            "description": "Batch screen with source and type filters"
          },
          "response": [
            {
              "name": "Filtered Batch Results",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"batchId\": \"batch-xyz-456\",\n  \"results\": [\n    {\n      \"requestId\": \"cust-001\",\n      \"query\": \"Global Trading LLC\",\n      \"status\": \"COMPLETED\",\n      \"errorMessage\": null,\n      \"matches\": [\n        {\n          \"entityId\": \"99887\",\n          \"name\": \"GLOBAL TRADING LIMITED\",\n          \"entityType\": \"BUSINESS\",\n          \"sourceList\": \"OFAC_SDN\",\n          \"score\": 0.89,\n          \"remarks\": \"Linked to sanctioned entity\"\n        }\n      ]\n    },\n    {\n      \"requestId\": \"cust-002\",\n      \"query\": \"Mohammad Ali\",\n      \"status\": \"COMPLETED\",\n      \"errorMessage\": null,\n      \"matches\": []\n    }\n  ],\n  \"statistics\": {\n    \"totalProcessed\": 5,\n    \"withMatches\": 1,\n    \"withoutMatches\": 4,\n    \"failed\": 0\n  },\n  \"totalItems\": 5,\n  \"totalMatches\": 1,\n  \"itemsWithMatches\": 1,\n  \"processingTimeMs\": 123,\n  \"processedAt\": \"2026-01-04T12:00:00Z\"\n}"
            }
          ]
        },
        {
          "name": "Batch Screen - With ScoreTrace",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\"requestId\": \"1\", \"name\": \"John Smith\"},\n    {\"requestId\": \"2\", \"name\": \"Acme Corporation\"}\n  ],\n  \"minMatch\": 0.85,\n  \"limit\": 10,\n  \"trace\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/search/batch",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search",
                "batch"
              ]
            },
            "description": "Batch screening with trace enabled to see detailed scoring breakdowns per match"
          },
          "response": [
            {
              "name": "Batch Response with Trace",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"results\": [\n    {\n      \"itemId\": \"1\",\n      \"name\": \"John Smith\",\n      \"matches\": [\n        {\n          \"entityId\": \"12345\",\n          \"name\": \"JOHN SMITH\",\n          \"type\": \"PERSON\",\n          \"source\": \"OFAC_SDN\",\n          \"score\": 0.98,\n          \"breakdown\": {\n            \"primaryNameScore\": 0.98,\n            \"altNameScore\": 0.95,\n            \"addressScore\": 0.0,\n            \"dobScore\": 0.0,\n            \"idScore\": 0.0,\n            \"totalWeightedScore\": 0.98,\n            \"components\": [\n              {\n                \"field\": \"primaryName\",\n                \"queryValue\": \"John Smith\",\n                \"candidateValue\": \"JOHN SMITH\",\n                \"rawScore\": 0.98,\n                \"weight\": 1.0,\n                \"weightedScore\": 0.98\n              }\n            ]\n          }\n        }\n      ],\n      \"matchCount\": 1,\n      \"trace\": {\n        \"traceId\": \"batch-trace-1\",\n        \"events\": [\n          {\n            \"timestamp\": \"2026-01-11T00:00:00Z\",\n            \"phase\": \"NORMALIZATION\",\n            \"message\": \"Normalized query: John Smith -> john smith\"\n          },\n          {\n            \"timestamp\": \"2026-01-11T00:00:01Z\",\n            \"phase\": \"SCORING\",\n            \"message\": \"Scored 45 candidates\"\n          }\n        ]\n      }\n    },\n    {\n      \"itemId\": \"2\",\n      \"name\": \"Acme Corporation\",\n      \"matches\": [],\n      \"matchCount\": 0,\n      \"trace\": {\n        \"traceId\": \"batch-trace-2\",\n        \"events\": [\n          {\n            \"timestamp\": \"2026-01-11T00:00:00Z\",\n            \"phase\": \"NORMALIZATION\",\n            \"message\": \"Normalized query: Acme Corporation -> acme corporation\"\n          },\n          {\n            \"timestamp\": \"2026-01-11T00:00:01Z\",\n            \"phase\": \"SCORING\",\n            \"message\": \"No candidates above threshold\"\n          }\n        ]\n      }\n    }\n  ],\n  \"statistics\": {\n    \"totalItems\": 2,\n    \"itemsWithMatches\": 1,\n    \"itemsWithoutMatches\": 1,\n    \"totalMatches\": 1,\n    \"processingTimeMs\": 67\n  }\n}"
            }
          ]
        },
        {
          "name": "Batch Screen - Large (100 items)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\"requestId\": \"1\", \"name\": \"Customer One\"},\n    {\"requestId\": \"2\", \"name\": \"Customer Two\"},\n    {\"requestId\": \"3\", \"name\": \"Customer Three\"},\n    {\"requestId\": \"4\", \"name\": \"Customer Four\"},\n    {\"requestId\": \"5\", \"name\": \"Customer Five\"}\n  ],\n  \"minMatch\": 0.85,\n  \"limit\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/search/batch",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search",
                "batch"
              ]
            },
            "description": "Example large batch request (modify items array as needed, max 1000)"
          },
          "response": [
            {
              "name": "Large Batch Response",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"batchId\": \"batch-large-789\",\n  \"results\": [\n    {\n      \"requestId\": \"1\",\n      \"query\": \"Customer One\",\n      \"status\": \"COMPLETED\",\n      \"errorMessage\": null,\n      \"matches\": []\n    }\n  ],\n  \"statistics\": {\n    \"totalProcessed\": 5,\n    \"withMatches\": 0,\n    \"withoutMatches\": 5,\n    \"failed\": 0\n  },\n  \"totalItems\": 5,\n  \"totalMatches\": 0,\n  \"itemsWithMatches\": 0,\n  \"processingTimeMs\": 87,\n  \"processedAt\": \"2026-01-04T12:00:00Z\"\n}"
            }
          ]
        },
        {
          "name": "Batch Screen - Async",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\"requestId\": \"async-1\", \"name\": \"Async Test One\"},\n    {\"requestId\": \"async-2\", \"name\": \"Async Test Two\"}\n  ],\n  \"minMatch\": 0.85,\n  \"limit\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/search/batch/async",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search",
                "batch",
                "async"
              ]
            },
            "description": "Submit batch for async processing (for very large batches)"
          },
          "response": [
            {
              "name": "Async Accepted",
              "status": "Accepted",
              "code": 202,
              "body": "{\n  \"jobId\": \"batch-job-12345\",\n  \"status\": \"PENDING\",\n  \"itemCount\": 2,\n  \"submittedAt\": \"2026-01-03T00:00:00Z\"\n}"
            }
          ]
        },
        {
          "name": "Get Batch Config",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/search/batch/config",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "search",
                "batch",
                "config"
              ]
            },
            "description": "Get batch screening configuration and limits"
          },
          "response": [
            {
              "name": "Config Response",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"maxBatchSize\": 1000,\n  \"defaultMinMatch\": 0.85,\n  \"defaultLimit\": 10,\n  \"asyncThreshold\": 500,\n  \"supportedSources\": [\"OFAC_SDN\", \"US_CSL\", \"EU_CSL\", \"UK_CSL\"],\n  \"supportedTypes\": [\"PERSON\", \"BUSINESS\", \"VESSEL\", \"AIRCRAFT\"]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Data Management",
      "description": "## Data Management & Refresh\n\nDownload and refresh sanctions list data from authoritative sources.\n\n### Endpoints\n\n- **POST /v2/data/download** - Download latest data from OFAC, EU, UK sources\n- **POST /v2/data/refresh** - Refresh in-memory index with downloaded data\n\n### Data Sources\n\n| Source | Authority | Update Frequency | Entity Count |\n|--------|-----------|------------------|-------------|\n| **OFAC SDN** | US Treasury | Daily | ~12,500 |\n| **US CSL** | US Govt Agencies | Weekly | ~8,000 |\n| **EU CSL** | European Union | Daily | ~5,000 |\n| **UK CSL** | UK OFSI | Daily | ~3,000 |\n\n### Workflow\n\n```\n1. POST /v2/data/download  ‚Üí  Fetch latest data\n2. POST /v2/data/refresh   ‚Üí  Reload into memory\n3. GET /v2/listinfo        ‚Üí  Verify new counts\n```\n\n### Use Cases\n\n‚úÖ **Scheduled Updates**: Automate daily data refresh via cron/scheduler\n‚úÖ **Manual Refresh**: Update data after major sanctions announcements\n‚úÖ **Version Control**: Track data versions and update history\n‚úÖ **Compliance**: Maintain up-to-date sanctions screening data\n\n### Best Practices\n\n**Scheduling**:\n- Download daily at off-peak hours (e.g., 2 AM UTC)\n- Refresh immediately after successful download\n- Monitor for download failures and retry\n\n**Monitoring**:\n- Check entity counts after refresh (`/v2/listinfo`)\n- Alert if counts drop unexpectedly (data corruption)\n- Log download timestamps for audit trails\n\n**Zero Downtime**:\n- Refresh operation is atomic (old data serves until new data ready)\n- No service interruption during refresh\n- Rollback available if new data has issues\n\n### Response Codes\n\n| Code | Meaning | Action |\n|------|---------|--------|\n| 200 | Success | Data updated |\n| 202 | Accepted | Async operation started |\n| 409 | Conflict | Refresh already in progress |\n| 503 | Unavailable | Source unreachable, retry later |\n\n### Performance\n\n- **Download Time**: 30-60 seconds (depends on source availability)\n- **Refresh Time**: 5-10 seconds (in-memory reload)\n- **Impact**: Zero downtime, no request failures\n\n### Security\n\n- May require authentication/authorization in production\n- Restrict access to admin/ops roles only\n- Log all data management operations\n- Validate data integrity after download",
      "item": [
        {
          "name": "Refresh Data",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v1/download/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "download",
                "refresh"
              ]
            },
            "description": "Trigger manual refresh of sanctions data from all sources"
          },
          "response": [
            {
              "name": "Refresh Started",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"status\": \"REFRESHING\",\n  \"message\": \"Data refresh started\",\n  \"startedAt\": \"2026-01-03T00:00:00Z\"\n}"
            }
          ]
        },
        {
          "name": "Get Download Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v1/download/status",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "download",
                "status"
              ]
            },
            "description": "Get current status of data downloads"
          },
          "response": [
            {
              "name": "Status Response",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"status\": \"READY\",\n  \"lastRefresh\": \"2026-01-03T00:00:00Z\",\n  \"sources\": [\n    {\"name\": \"OFAC_SDN\", \"status\": \"LOADED\", \"entityCount\": 12500, \"lastUpdated\": \"2026-01-03T00:00:00Z\"},\n    {\"name\": \"US_CSL\", \"status\": \"LOADED\", \"entityCount\": 8000, \"lastUpdated\": \"2026-01-03T00:00:00Z\"},\n    {\"name\": \"EU_CSL\", \"status\": \"LOADED\", \"entityCount\": 5000, \"lastUpdated\": \"2026-01-03T00:00:00Z\"},\n    {\"name\": \"UK_CSL\", \"status\": \"LOADED\", \"entityCount\": 3000, \"lastUpdated\": \"2026-01-03T00:00:00Z\"}\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Nemesis Testing",
      "description": "## Nemesis - Automated Parity Testing\n\nTrigger and monitor automated testing that compares Java vs Go implementations (and optionally OFAC-API commercial service).\n\n### What is Nemesis?\n\nNemesis is an **adversarial testing system** that:\n- Generates dynamic test queries from real OFAC data (configurable: 1-1000 queries per run)\n- Compares Java vs Go scoring for divergences\n- Optionally includes OFAC-API (commercial gold standard) for 3-way comparison\n- Uses AI to identify patterns and root causes\n- Tracks cumulative entity coverage over time\n- Generates GitHub issues for divergences found\n- **(New!)** Automatically creates PRs with fixes via repair pipeline\n\n### Endpoints\n\n```\nPOST /v2/nemesis/trigger    - Start a Nemesis run\nGET  /v2/nemesis/status/:id - Check job status\nGET  /v2/nemesis/reports    - List recent reports\nGET  /v2/nemesis/reports/:file - Download specific report\n```\n\n### Comparison Modes\n\n**2-Way (Java vs Go)**:\n```json\n{\n  \"queries\": 100,\n  \"includeOfacApi\": false,\n  \"async\": true\n}\n```\n\n**3-Way (Java vs Go vs OFAC-API)**:\n```json\n{\n  \"queries\": 100,\n  \"includeOfacApi\": true,\n  \"async\": true\n}\n```\n*Requires `OFAC_API_KEY` environment variable*\n\n### Response Structure\n\n**Trigger Response**:\n```json\n{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"running\",\n  \"statusUrl\": \"/v2/nemesis/status/nemesis-20260111-143052\",\n  \"reportPath\": null,\n  \"message\": \"Nemesis run started asynchronously\"\n}\n```\n\n**Status Response**:\n```json\n{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"completed\",\n  \"queries\": 100,\n  \"startTime\": \"2026-01-11T14:30:52\",\n  \"endTime\": \"2026-01-11T14:31:35\",\n  \"executionTimeSeconds\": 43,\n  \"reportPath\": \"/data/reports/nemesis-20260111.json\"\n}\n```\n\n### Report Contents\n\nGenerated JSON reports include:\n- **Divergences**: Score differences, wrong top matches, missing results\n- **AI Analysis**: Pattern identification and root cause hypotheses\n- **Coverage Metrics**: % of OFAC entities tested (cumulative)\n- **Trace Data**: Score breakdowns for debugging (limited to samples)\n- **Test Queries**: Sample queries used in the run\n- **Repair Results**: PR URLs and fix status (if repair pipeline enabled)\n\n### Use Cases\n\n‚úÖ **Pre-Deployment Testing**: Run before releasing Java changes\n‚úÖ **Regression Detection**: Catch scoring regressions early\n‚úÖ **Parity Verification**: Ensure Java matches Go behavior\n‚úÖ **Commercial Validation**: Compare against OFAC-API gold standard\n‚úÖ **Continuous Monitoring**: Schedule daily runs via cron\n‚úÖ **Automated Fixes**: Enable repair pipeline to auto-create PRs\n\n### Workflow\n\n**1. Trigger Run**\n```\nPOST /v2/nemesis/trigger\n{ \"queries\": 100, \"includeOfacApi\": false, \"async\": true }\n\n‚Üí Returns jobId\n```\n\n**2. Monitor Progress**\n```\nGET /v2/nemesis/status/{jobId}\n\n‚Üí Poll until status = \"completed\"\n```\n\n**3. Review Results**\n```\nGET /v2/nemesis/reports\n\n‚Üí Download latest report\n```\n\n**4. Investigate Divergences**\n- Review AI-identified patterns\n- Check score breakdowns in trace data\n- Prioritize by severity (critical ‚Üí moderate ‚Üí minor)\n\n**5. Auto-Repair (Optional)**\n- If `REPAIR_PIPELINE_ENABLED=true` on server\n- PRs automatically created for fixable issues\n- GitHub issue includes PR links\n\n### Configuration (Server-Side)\n\n```bash\n# Basic configuration\nWATCHMAN_JAVA_API_URL=http://54.209.239.50:8080\nWATCHMAN_GO_API_URL=https://watchman-go.fly.dev\nCOMPARE_IMPLEMENTATIONS=true\n\n# 3-way comparison\nCOMPARE_EXTERNAL=true\nEXTERNAL_PROVIDER=ofac-api\nOFAC_API_KEY=your_api_key_here\n\n# GitHub integration\nGITHUB_TOKEN=your_github_token\nGITHUB_REPO=BraidFI-AI/watchman-java\n\n# Repair pipeline (auto-fix)\nREPAIR_PIPELINE_ENABLED=true\n```\n\n### Performance\n\n| Queries | 2-Way Time | 3-Way Time | Report Size |\n|---------|-----------|-----------|-------------|\n| 50 | ~20 sec | ~35 sec | ~2-5 MB |\n| 100 | ~35 sec | ~60 sec | ~5-10 MB |\n| 500 | ~3 min | ~5 min | ~25-50 MB |\n\n*Note: Reports were previously 2.1GB due to full trace storage. Now limited to essential data and samples.*\n\n### Divergence Types\n\n| Type | Severity | Description |\n|------|----------|-------------|\n| `top_result_differs` | Critical | Different top match (compliance risk) |\n| `score_difference` | Critical/Moderate | Same entity, different scores |\n| `java_extra_result` | Moderate | Java over-matching |\n| `go_extra_result` | Moderate | Java missing results |\n| `result_order_differs` | Minor | Different ranking order |\n\n### Best Practices\n\n**Testing Frequency**:\n- Run on every PR/deployment (CI/CD integration)\n- Schedule daily runs in production\n- Run 3-way comparison weekly for commercial validation\n\n**Interpreting Results**:\n- **0 divergences**: ‚úÖ Perfect parity\n- **1-5 divergences**: ‚ö†Ô∏è Minor differences, investigate\n- **10+ divergences**: üî¥ Systematic issue, block deployment\n\n**Using AI Analysis**:\n- Review AI-identified patterns first (saves time)\n- Prioritize by priority (P0 > P1 > P2 > P3)\n- Check if issue affects multiple queries (pattern vs edge case)\n\n**Repair Pipeline**:\n- Start disabled (`REPAIR_PIPELINE_ENABLED=false`)\n- Enable after validating report quality\n- Review auto-generated PRs before merging\n- Keep crons disabled initially, enable after confidence\n\n### Troubleshooting\n\n**Job stuck in \"running\"**:\n- Check server logs for errors\n- API may be unreachable (Java/Go/OFAC-API)\n- Timeout may have occurred\n\n**3-way comparison fails**:\n- Verify `OFAC_API_KEY` is set on server\n- Check OFAC-API quota/rate limits\n- Fall back to 2-way comparison\n\n**Large report files (>100MB)**:\n- Fixed in latest version (trace data limited)\n- Older reports may still be large\n- Download reports compress well (gzip recommended)\n\n### GitHub Integration\n\nWhen divergences are found:\n1. **Issue Created**: Summary of all divergences with severity breakdown\n2. **AI Analysis**: Patterns and recommendations included\n3. **PR Links**: If repair pipeline enabled, links to auto-generated PRs\n4. **Sample Divergences**: Top 10 examples with details\n\n### Security\n\n- Nemesis endpoints should be restricted to internal/admin access\n- OFAC-API key is sensitive - store securely\n- GitHub token needs repo write access for PRs\n- Reports may contain entity names - handle per data privacy policies",
      "item": [
        {
          "name": "Trigger Nemesis (Async - Default)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"queries\": 100,\n  \"includeOfacApi\": false,\n  \"async\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/nemesis/trigger",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "nemesis",
                "trigger"
              ]
            },
            "description": "Trigger a Nemesis parity testing run (Java vs Go baseline). Returns immediately with job ID."
          },
          "response": [
            {
              "name": "Async Started",
              "status": "Accepted",
              "code": 202,
              "body": "{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"running\",\n  \"statusUrl\": \"/v2/nemesis/status/nemesis-20260111-143052\",\n  \"reportPath\": null,\n  \"executionTimeSeconds\": null,\n  \"message\": \"Nemesis run started asynchronously\"\n}"
            }
          ]
        },
        {
          "name": "Trigger Nemesis (Sync)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"queries\": 50,\n  \"includeOfacApi\": false,\n  \"async\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/nemesis/trigger",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "nemesis",
                "trigger"
              ]
            },
            "description": "Trigger a Nemesis run and wait for completion. Use for small query counts."
          },
          "response": [
            {
              "name": "Sync Completed",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"completed\",\n  \"statusUrl\": \"/v2/nemesis/status/nemesis-20260111-143052\",\n  \"reportPath\": \"/data/reports/nemesis-20260111.json\",\n  \"executionTimeSeconds\": 43,\n  \"message\": \"Nemesis run completed successfully\"\n}"
            }
          ]
        },
        {
          "name": "Trigger with OFAC-API (3-way)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"queries\": 100,\n  \"includeOfacApi\": true,\n  \"async\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v2/nemesis/trigger",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "nemesis",
                "trigger"
              ]
            },
            "description": "Trigger 3-way comparison: Java vs Go vs OFAC-API commercial service. Requires OFAC_API_KEY environment variable on server."
          },
          "response": [
            {
              "name": "3-way Started",
              "status": "Accepted",
              "code": 202,
              "body": "{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"running\",\n  \"statusUrl\": \"/v2/nemesis/status/nemesis-20260111-143052\",\n  \"reportPath\": null,\n  \"executionTimeSeconds\": null,\n  \"message\": \"Nemesis run started asynchronously\"\n}"
            }
          ]
        },
        {
          "name": "Check Job Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/nemesis/status/nemesis-20260111-143052",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "nemesis",
                "status",
                "nemesis-20260111-143052"
              ]
            },
            "description": "Check the status of a Nemesis job. Replace job ID with actual job ID from trigger response."
          },
          "response": [
            {
              "name": "Job Running",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"running\",\n  \"queries\": 100,\n  \"includeOfacApi\": false,\n  \"startTime\": \"2026-01-11T14:30:52\",\n  \"endTime\": null,\n  \"executionTimeSeconds\": null,\n  \"reportPath\": null,\n  \"message\": null,\n  \"logs\": [\n    \"Starting Nemesis run...\",\n    \"Queries: 100\",\n    \"Include OFAC-API: false\"\n  ]\n}"
            },
            {
              "name": "Job Completed",
              "status": "OK",
              "code": 200,
              "body": "{\n  \"jobId\": \"nemesis-20260111-143052\",\n  \"status\": \"completed\",\n  \"queries\": 100,\n  \"includeOfacApi\": false,\n  \"startTime\": \"2026-01-11T14:30:52\",\n  \"endTime\": \"2026-01-11T14:31:35\",\n  \"executionTimeSeconds\": 43,\n  \"reportPath\": \"/data/reports/nemesis-20260111.json\",\n  \"message\": \"Nemesis run completed successfully\",\n  \"logs\": [\n    \"Starting Nemesis run...\",\n    \"Queries: 100\",\n    \"Include OFAC-API: false\",\n    \"‚úì Nemesis run completed\"\n  ]\n}"
            }
          ]
        },
        {
          "name": "List Recent Reports",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/v2/nemesis/reports",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v2",
                "nemesis",
                "reports"
              ]
            },
            "description": "List the 10 most recent Nemesis report files"
          },
          "response": [
            {
              "name": "Reports List",
              "status": "OK",
              "code": 200,
              "body": "[\n  {\n    \"filename\": \"nemesis-20260111.json\",\n    \"sizeBytes\": 125840,\n    \"lastModified\": 1736608295000,\n    \"downloadUrl\": \"/v2/nemesis/reports/nemesis-20260111.json\"\n  },\n  {\n    \"filename\": \"nemesis-20260110.json\",\n    \"sizeBytes\": 118320,\n    \"lastModified\": 1736521895000,\n    \"downloadUrl\": \"/v2/nemesis/reports/nemesis-20260110.json\"\n  }\n]"
            }
          ]
        }
      ]
    }
  ]
}