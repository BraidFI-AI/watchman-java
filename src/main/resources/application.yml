server:
  port: 8084

spring:
  application:
    name: watchman-java

watchman:
  download:
    enabled: true
    on-startup: true
    refresh-interval-ms: 43200000  # 12 hours in milliseconds
    sources:
      - US_OFAC
      # - US_CSL
      # - EU_CSL
      # - UK_CSL
    ofac:
      sdn-url: https://www.treasury.gov/ofac/downloads/sdn.csv
      add-url: https://www.treasury.gov/ofac/downloads/add.csv
      alt-url: https://www.treasury.gov/ofac/downloads/alt.csv
    csl:
      url: https://data.trade.gov/downloadable_consolidated_screening_list/v1/consolidated.csv
    eu-csl:
      url: https://webgate.ec.europa.eu/fsd/fsf/public/files/csvFullSanctionsList_1_1/content?token=dG9rZW4tMjAxNw
    uk-csl:
      url: https://ofsistorage.blob.core.windows.net/publishlive/2022format/ConList.csv
  search:
    default-limit: 10
    max-limit: 100
    min-match: 0.88
  scoring:
    # Factor weights (default values shown)
    name-weight: 35.0
    address-weight: 25.0
    critical-id-weight: 50.0
    supporting-info-weight: 15.0

    # Factor enable/disable flags (all enabled by default)
    name-enabled: true
    alt-names-enabled: true
    government-id-enabled: true
    crypto-enabled: true
    contact-enabled: true
    address-enabled: true
    date-enabled: true

  # Similarity algorithm configuration (low-level tuning parameters)
  # These control Jaro-Winkler behavior, length penalties, and normalization
  similarity:
    # Jaro-Winkler parameters
    jaro-winkler-boost-threshold: 0.7   # Only boost if base score >= threshold
    jaro-winkler-prefix-size: 4         # Max prefix length for boost (chars)

    # Penalty weights
    length-difference-cutoff-factor: 0.9        # Apply penalty if ratio < 0.9
    length-difference-penalty-weight: 0.3       # Penalty weight for length diff
    different-letter-penalty-weight: 0.9        # Penalty for mismatched first char
    unmatched-index-token-weight: 0.15          # Penalty for unmatched tokens
    exact-match-favoritism: 0.0                 # Boost for exact matches (0.0 = disabled)

    # Feature flags
    phonetic-filtering-disabled: false  # If true, skip Soundex pre-filter
    keep-stopwords: false               # If true, don't remove stopwords
    log-stopword-debugging: false       # If true, log stopword details
